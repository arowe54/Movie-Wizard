{% extends "layout.html" %}

{% block title %}
    Profile
{% endblock %}

{% block main %}

<!--TODO: Show username-->
<button>
    <p>Username: {{ session["username"] }}</p>
</button>
<!--TODO: Show password (password protected / hidden)(click an eye icon to show, like normally)-->
<button>
    <p>Password: <span style="-webkit-text-security: disc" name="original_pwd" id="original_pwd">{{ session["password"] }}</span></p>
    <!--TODO: Change from click to show when clicked and held -->
    <button name="show_password" id="show_password">Show Password</button>
</button>


<!--Show/hide password-->
<script>
    $(document).ready(function() {
        // When user clicks show password button
        $('#show_password').click(function() {
            // Save original style
            style = $('#original_pwd').attr('style');
            console.log(style);

            // If its already hidden
            if (style == '-webkit-text-security: disc'){
                // Show the password
                $('#original_pwd').attr('style', '-webkit-text-security: none');
            }
            else {
                // Hide the password
                $('#original_pwd').attr('style', '-webkit-text-security: disc');
            }
        })
    })
</script>

<div class="row">
    <div class="col">
        <!--TODO: Change username-->
        <button type="text" name="update_username" id="update_username">Change Username</button>
        <div id="update_username_form"></div>
    </div>

    <script>
        $(document).ready(function() {
            // When user clicks update username
            $('#update_username').click(function() {
                // Append a form just below the change username button
                $('#update_username_form').append(
                        // Show the current username                                    (ex.     Username: Lebron   \n)
                        // Input field for the user to update password                  (ex. New Username: [      ] \n) 
                        // Submit button, submits form to a route to change username    (ex.                Submit )(end node)
                    );
                
                // Maybe use AJAX instead?
            })
        })
    </script>

    <div class="col">
        <!--TODO: Update password-->
        <button type="text" name="update_password" id="update_password">Change Password</button>
    </div>
</div>


<!--TODO: Add preferences (ex. isAdult == false, fav genre, idk)(maybe not bc of time)(do last)-->

{% endblock %}